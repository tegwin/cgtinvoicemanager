{% extends "base.html" %}
{% block content %}
<div class="page-header">
  <h1 class="page-title">ðŸ‘¥ Customers</h1>
  <p class="page-subtitle">Manage your customer records and tax preferences.</p>
</div>

<div class="panel">
  <div class="panel-header">
    <div class="panel-title">Customer List</div>
    <div>
      <a class="btn btn-primary btn-sm" href="{{ url_for('new_customer') }}">âž• New Customer</a>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Name</th><th>Email</th><th>Phone</th><th>Tax</th><th></th>
      </tr>
    </thead>
    <tbody>
      {% for c in customers %}
        <tr>
          <td>{{ c.name }}</td>
          <td>{{ c.email }}</td>
          <td>{{ c.phone }}</td>
          <td>
            {% if c.use_default_tax %}
              Default
            {% elif c.tax_rate is not none %}
              {{ "%.2f"|format(c.tax_rate) }} %
            {% else %}
              -
            {% endif %}
          </td>
          <td>
            <a class="btn btn-secondary btn-sm"
               href="{{ url_for('edit_customer', customer_id=c.id) }}">
              Edit
            </a>
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="5" class="text-muted">No customers yet. Create one.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
