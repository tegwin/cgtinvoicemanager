{% extends "base.html" %}

{% block content %}
<div class="page-header mb-4">
  <h2 class="mb-1">
    {% if api_key %}Edit API Key{% else %}Create API Key{% endif %}
  </h2>
  <p class="text-muted mb-0">
    Give each key a clear name so you know which integration it belongs to.
  </p>
</div>

<div class="row justify-content-center">
  <div class="col-lg-6">
    <div class="card-dark p-3 p-md-4">
      <form method="post">
        <div class="mb-3">
          <label class="form-label small-label">Key name</label>
          <input type="text" name="name" class="form-control"
                 placeholder="e.g. n8n, Make, internal script"
                 value="{{ api_key.name if api_key else '' }}" required>
        </div>

        <div class="mb-3">
          <label class="form-label small-label">Key value (optional)</label>
          <input type="text" name="key" class="form-control"
                 placeholder="Leave blank to generate a secure random key">
          <div class="form-text text-muted">
            For security, the full key is only shown once when you create it.
          </div>
        </div>

        <button type="submit" class="btn btn-primary">
          {% if api_key %}Save{% else %}Create API key{% endif %}
        </button>
        <a href="{{ url_for('api_keys_list') }}" class="btn btn-outline-light ms-2">
          Cancel
        </a>
      </form>
    </div>
  </div>
</div>
{% endblock %}
